<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport"
          content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no,viewport-fit=cover">
    <meta name="format-detection" content="telephone=no">
    <style type="text/css">

#watermark {

  position: relative;
  overflow: hidden;
}

#watermark .x {
  position: absolute;
  top: 800;
  left: 400;
  color: #3300ff;
  font-size: 50px;
  pointer-events: none;
  opacity:0.3;
  filter:Alpha(opacity=50);
  -webkit-transform: rotate(45deg);
  -moz-transform: rotate(45deg);
}
    </style>


    <style type="text/css">
 html{color:#333;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%;text-rendering:optimizelegibility;font-family:Helvetica Neue,PingFang SC,Verdana,Microsoft Yahei,Hiragino Sans GB,Microsoft Sans Serif,WenQuanYi Micro Hei,sans-serif}html.borderbox *,html.borderbox :after,html.borderbox :before{box-sizing:border-box}article,aside,blockquote,body,button,code,dd,details,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hr,input,legend,li,menu,nav,ol,p,pre,section,td,textarea,th,ul{margin:0;padding:0}article,aside,details,figcaption,figure,footer,header,menu,nav,section{display:block}audio,canvas,video{display:inline-block}body,button,input,select,textarea{font:300 1em/1.8 PingFang SC,Lantinghei SC,Microsoft Yahei,Hiragino Sans GB,Microsoft Sans Serif,WenQuanYi Micro Hei,Helvetica,sans-serif}button::-moz-focus-inner,input::-moz-focus-inner{padding:0;border:0}table{border-collapse:collapse;border-spacing:0}fieldset,img{border:0}blockquote{position:relative;color:#999;font-weight:400;border-left:1px solid #1abc9c;padding-left:1em;margin:1em 3em 1em 2em}@media only screen and (max-width:640px){blockquote{margin:1em 0}}abbr,acronym{border-bottom:1px dotted;font-variant:normal}abbr{cursor:help}del{text-decoration:line-through}address,caption,cite,code,dfn,em,th,var{font-style:normal;font-weight:400}ol,ul{list-style:none}caption,th{text-align:left}q:after,q:before{content:""}sub,sup{font-size:75%;line-height:0;position:relative}:root sub,:root sup{vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}a{color:#1abc9c}a:hover{text-decoration:underline}.typo a{border-bottom:1px solid #1abc9c}.typo a:hover{border-bottom-color:#555;color:#555}.typo a:hover,a,ins{text-decoration:none}.typo-u,u{text-decoration:underline}mark{background:#fffdd1;border-bottom:1px solid #ffedce;padding:2px;margin:0 5px}code,pre,pre tt{font-family:Courier,Courier New,monospace}pre{background:hsla(0,0%,97%,.7);border:1px solid #ddd;padding:1em 1.5em;display:block;-webkit-overflow-scrolling:touch}hr{border:none;border-bottom:1px solid #cfcfcf;margin-bottom:.8em;height:10px}.typo-small,figcaption,small{font-size:.9em;color:#888}b,strong{font-weight:700;color:#000}[draggable]{cursor:move}.clearfix:after,.clearfix:before{content:"";display:table}.clearfix:after{clear:both}.clearfix{zoom:1}.textwrap,.textwrap td,.textwrap th{word-wrap:break-word;word-break:break-all}.textwrap-table{table-layout:fixed}.serif{font-family:Palatino,Optima,Georgia,serif}.typo-dl,.typo-form,.typo-hr,.typo-ol,.typo-p,.typo-pre,.typo-table,.typo-ul,.typo dl,.typo form,.typo hr,.typo ol,.typo p,.typo pre,.typo table,.typo ul,blockquote{margin-bottom:1rem}h1,h2,h3,h4,h5,h6{font-family:PingFang SC,Helvetica Neue,Verdana,Microsoft Yahei,Hiragino Sans GB,Microsoft Sans Serif,WenQuanYi Micro Hei,sans-serif;color:#000;line-height:1.35}.typo-h1,.typo-h2,.typo-h3,.typo-h4,.typo-h5,.typo-h6,.typo h1,.typo h2,.typo h3,.typo h4,.typo h5,.typo h6{margin-top:1.2em;margin-bottom:.6em;line-height:1.35}.typo-h1,.typo h1{font-size:2em}.typo-h2,.typo h2{font-size:1.8em}.typo-h3,.typo h3{font-size:1.6em}.typo-h4,.typo h4{font-size:1.4em}.typo-h5,.typo-h6,.typo h5,.typo h6{font-size:1.2em}.typo-ul,.typo ul{margin-left:1.3em;list-style:disc}.typo-ol,.typo ol{list-style:decimal;margin-left:1.9em}.typo-ol ol,.typo-ol ul,.typo-ul ol,.typo-ul ul,.typo li ol,.typo li ul{margin-bottom:.8em;margin-left:2em}.typo-ol ul,.typo-ul ul,.typo li ul{list-style:circle}.typo-table td,.typo-table th,.typo table caption,.typo table td,.typo table th{border:1px solid #ddd;padding:.5em 1em;color:#666}.typo-table th,.typo table th{background:#fbfbfb}.typo-table thead th,.typo table thead th{background:hsla(0,0%,95%,.7)}.typo table caption{border-bottom:none}.typo-input,.typo-textarea{-webkit-appearance:none;border-radius:0}.typo-em,.typo em,caption,legend{color:#000;font-weight:inherit}.typo-em{position:relative}.typo-em:after{position:absolute;top:.65em;left:0;width:100%;overflow:hidden;white-space:nowrap;content:"\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB"}.typo img{max-width:100%}.common-content{font-weight:400;color:#353535;line-height:1.75rem;white-space:normal;word-break:normal;font-size:1rem}.common-content img{display:block;max-width:100%;background-color:#eee}.common-content audio,.common-content video{width:100%;background-color:#eee}.common-content center,.common-content font{margin-top:1rem;display:inline-block}.common-content center{width:100%}.common-content pre{margin-top:1rem;padding-left:0;padding-right:0;position:relative;overflow:hidden}.common-content pre code{font-size:.8rem;font-family:Consolas,Liberation Mono,Menlo,monospace,Courier;display:block;width:100%;box-sizing:border-box;padding-left:1rem;padding-right:1rem;overflow-x:auto}.common-content hr{border:none;margin-top:1.5rem;margin-bottom:1.5rem;border-top:1px solid #f5f5f5;height:1px;background:none}.common-content b,.common-content h1,.common-content h2,.common-content h3,.common-content h4,.common-content h5,.common-content strong{font-weight:700}.common-content h1,.common-content h2{font-size:1.125rem;margin-bottom:.45rem}.common-content h3,.common-content h4,.common-content h5{font-size:1rem;margin-bottom:.45rem}.common-content p{font-weight:400;color:#353535;margin-top:.15rem}.common-content .orange{color:#ff5a05}.common-content .reference{font-size:1rem;color:#888}.custom-rich-content h1{margin-top:0;font-weight:400;font-size:15.25px;border-bottom:1px solid #eee;line-height:2.8}.custom-rich-content li,.custom-rich-content p{font-size:14px;color:#888;line-height:1.6}table.hljs-ln{margin-bottom:0;border-spacing:0;border-collapse:collapse}table.hljs-ln,table.hljs-ln tbody,table.hljs-ln td,table.hljs-ln tr{box-sizing:border-box}table.hljs-ln td{padding:0;border:0}table.hljs-ln td.hljs-ln-numbers{min-width:15px;color:rgba(27,31,35,.3);text-align:right;white-space:nowrap;cursor:pointer;user-select:none}table.hljs-ln td.hljs-ln-code,table.hljs-ln td.hljs-ln-numbers{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;font-size:12px;line-height:20px;vertical-align:top}table.hljs-ln td.hljs-ln-code{position:relative;padding-right:10px;padding-left:10px;overflow:visible;color:#24292e;word-wrap:normal;white-space:pre}video::-webkit-media-controls{overflow:hidden!important}video::-webkit-media-controls-enclosure{width:calc(100% + 32px);margin-left:auto}.button-cancel{color:#888;border:1px solid #888;border-radius:3px;margin-right:12px}.button-cancel,.button-primary{-ms-flex-positive:1;flex-grow:1;height:35px;display:inline-block;font-size:15px;text-align:center;line-height:36px}.button-primary{color:#fff;background-color:#ff5a05;border-radius:3px}@font-face{font-family:iconfont;src:url(//at.alicdn.com/t/font_372689_bwwwtosxtzp.eot);src:url(//at.alicdn.com/t/font_372689_bwwwtosxtzp.eot#iefix) format("embedded-opentype"),url(//at.alicdn.com/t/font_372689_bwwwtosxtzp.woff) format("woff"),url(//at.alicdn.com/t/font_372689_bwwwtosxtzp.ttf) format("truetype"),url(//at.alicdn.com/t/font_372689_bwwwtosxtzp.svg#iconfont) format("svg")}@font-face{font-family:player-font;src:url(//at.alicdn.com/t/font_509397_1cyjv4o90qiod2t9.eot);src:url(//at.alicdn.com/t/font_509397_1cyjv4o90qiod2t9.eot#iefix) format("embedded-opentype"),url(//at.alicdn.com/t/font_509397_1cyjv4o90qiod2t9.woff) format("woff"),url(//at.alicdn.com/t/font_509397_1cyjv4o90qiod2t9.ttf) format("truetype"),url(//at.alicdn.com/t/font_509397_1cyjv4o90qiod2t9.svg#player-font) format("svg")}.iconfont{font-family:iconfont!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-webkit-text-stroke-width:.2px;-moz-osx-font-smoothing:grayscale}html{background:#fff;min-height:100%;-webkit-tap-highlight-color:rgba(0,0,0,0)}body{width:100%}body.fixed{overflow:hidden;position:fixed;width:100vw;height:100vh}i{font-style:normal}a{word-wrap:break-word;-webkit-tap-highlight-color:rgba(0,0,0,0)}a:hover{text-decoration:none}.fade-enter-active,.fade-leave-active{transition:opacity .3s}.fade-enter,.fade-leave-to{opacity:0}.MathJax,.MathJax_CHTML,.MathJax_MathContainer,.MathJax_MathML,.MathJax_PHTML,.MathJax_PlainSource,.MathJax_SVG{outline:0}.ios-app-switch .js-audit{display:none}._loading_wrap_{position:fixed;width:100vw;height:100vh;top:50%;left:50%;transform:translate(-50%,-50%);z-index:999}._loading_div_class_,._loading_wrap_{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}._loading_div_class_{word-wrap:break-word;padding:.5rem .75rem;text-align:center;z-index:9999;font-size:.6rem;max-width:60%;color:#fff;border-radius:.25rem;-ms-flex-direction:column;flex-direction:column}._loading_div_class_ .message{color:#353535;font-size:16px;line-height:3}.spinner{animation:circle-rotator 1.4s linear infinite}.spinner *{line-height:0;box-sizing:border-box}@keyframes circle-rotator{0%{transform:rotate(0deg)}to{transform:rotate(270deg)}}.path{stroke-dasharray:187;stroke-dashoffset:0;transform-origin:center;animation:circle-dash 1.4s ease-in-out infinite,circle-colors 5.6s ease-in-out infinite}@keyframes circle-colors{0%{stroke:#ff5a05}to{stroke:#ff5a05}}@keyframes circle-dash{0%{stroke-dashoffset:187}50%{stroke-dashoffset:46.75;transform:rotate(135deg)}to{stroke-dashoffset:187;transform:rotate(450deg)}}.confirm-box-wrapper,.confirm-box-wrapper .mask{position:absolute;top:0;left:0;right:0;bottom:0}.confirm-box-wrapper .mask{background:rgba(0,0,0,.6)}.confirm-box-wrapper .confirm-box{position:fixed;top:50%;left:50%;width:267px;background:#fff;transform:translate(-50%,-50%);border-radius:7px}.confirm-box-wrapper .confirm-box .head{margin:0 18px;font-size:18px;text-align:center;line-height:65px;border-bottom:1px solid #d9d9d9}.confirm-box-wrapper .confirm-box .body{padding:18px;padding-bottom:0;color:#353535;font-size:12.5px;max-height:150px;overflow:auto}.confirm-box-wrapper .confirm-box .foot{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;padding:18px}.confirm-box-wrapper .confirm-box .foot .button-cancel{border:1px solid #d9d9d9}.hljs{display:block;overflow-x:auto;padding:.5em;color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}




    </style>
    <style type="text/css">
        .button-cancel[data-v-87ffcada]{color:#888;border:1px solid #888;border-radius:3px;margin-right:12px}.button-cancel[data-v-87ffcada],.button-primary[data-v-87ffcada]{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;height:35px;display:inline-block;font-size:15px;text-align:center;line-height:36px}.button-primary[data-v-87ffcada]{color:#fff;background-color:#ff5a05;border-radius:3px}.pd[data-v-87ffcada]{padding-left:1.375rem;padding-right:1.375rem}.article[data-v-87ffcada]{max-width:70rem;margin:0 auto}.article .article-unavailable[data-v-87ffcada]{color:#fa8919;font-size:15px;font-weight:600;line-height:24px;border-radius:5px;padding:12px;background-color:#f6f7fb;margin-top:20px}.article .article-unavailable .iconfont[data-v-87ffcada]{font-size:12px}.article .main[data-v-87ffcada]{padding:1.25rem 0;margin-bottom:52px}.article-title[data-v-87ffcada]{color:#353535;font-weight:400;line-height:1.65rem;font-size:1.34375rem}.article-info[data-v-87ffcada]{color:#888;font-size:.9375rem;margin-top:1.0625rem}.article-content[data-v-87ffcada]{margin-top:1.0625rem}.article-content.android video[data-v-87ffcada]::-webkit-media-controls-fullscreen-button{display:none}.copyright[data-v-87ffcada]{color:#b2b2b2;padding-bottom:20px;margin-top:20px;font-size:13px}.audio-player[data-v-87ffcada]{width:100%;margin:20px 0}.to-comment[data-v-87ffcada]{overflow:hidden;padding-top:10px;margin-bottom:-30px}.to-comment a.button-primary[data-v-87ffcada]{float:right;height:20px;font-size:12px;line-height:20px;padding:4px 8px;cursor:pointer}.article-comments[data-v-87ffcada]{margin-top:2rem}.article-comments h2[data-v-87ffcada]{text-align:center;color:#888;position:relative;z-index:1;margin-bottom:1rem}.article-comments h2[data-v-87ffcada]:before{border-top:1px dotted #888;content:"";position:absolute;top:56%;left:0;width:100%;z-index:-1}.article-comments h2 span[data-v-87ffcada]{font-size:15.25px;font-weight:400;padding:0 1rem;background:#fff;display:inline-block}.article-sub-bottom[data-v-87ffcada]{z-index:10;cursor:pointer}.switch-btns[data-v-87ffcada]{height:76px;cursor:pointer;padding-top:24px;padding-bottom:24px;border-bottom:10px solid #f6f7fb;position:relative}.switch-btns[data-v-87ffcada]:before{content:" ";height:1px;background:#e8e8e8;position:absolute;top:0;left:0;-webkit-box-sizing:border-box;box-sizing:border-box;left:1.375rem;right:1.375rem}.switch-btns .btn[data-v-87ffcada]{height:38px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.switch-btns .btn .tag[data-v-87ffcada]{-webkit-box-flex:0;-ms-flex:0 0 62px;flex:0 0 62px;text-align:center;color:#888;font-size:14px;border-radius:10px;height:22px;line-height:22px;background:#f6f7fb;font-weight:400}.switch-btns .btn .txt[data-v-87ffcada]{margin-left:10px;-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;color:#888;font-size:15px;height:22px;line-height:22px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-weight:400}@media (max-width:769px){.article .breadcrumb[data-v-87ffcada]{padding-top:10px;padding-bottom:10px}}





    </style>

    <style type="text/css">
        .comment-item{list-style-position:inside;width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;margin-bottom:1rem}.comment-item a{border-bottom:none}.comment-item .avatar{width:2.625rem;height:2.625rem;-ms-flex-negative:0;flex-shrink:0;border-radius:50%}.comment-item .info{margin-left:.5rem;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}.comment-item .info .hd{width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.comment-item .info .hd .username{color:#888;font-size:15.25px;font-weight:400;line-height:1.2}.comment-item .info .hd .control{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.comment-item .info .hd .control .btn-share{color:#888;font-size:.75rem;margin-right:1rem}.comment-item .info .hd .control .btn-praise{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:15.25px;text-decoration:none}.comment-item .info .hd .control .btn-praise i{color:#888;display:inline-block;font-size:.75rem;margin-right:.3rem;margin-top:-.01rem}.comment-item .info .hd .control .btn-praise i.on,.comment-item .info .hd .control .btn-praise span{color:#ff5a05}.comment-item .info .bd{color:#353535;font-size:15.25px;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6}.comment-item .info .time{color:#888;font-size:9px;line-height:1}.comment-item .info .reply .reply-hd{font-size:15.25px}.comment-item .info .reply .reply-hd span{margin-left:-12px;color:#888;font-weight:400}.comment-item .info .reply .reply-hd i{color:#ff5a05;font-size:15.25px}.comment-item .info .reply .reply-content{color:#353535;font-size:15.25px;font-weight:400;white-space:normal;word-break:break-all}.comment-item .info .reply .reply-time{color:#888;font-size:9px}




    </style>
</head>
<body>
<div id="app">


    <div data-v-87ffcada="" class="article" id="watermark">
        <p class="x">æ›´å¤šè¯¾ç¨‹è¯·åŠ QQ1046877154ï¼Œå¾®ä¿¡loveu_110è·å–</p>
        <div data-v-87ffcada="" class="main main-app">
            <h1 data-v-87ffcada="" class="article-title pd">
                07è®²å¯åŠ¨ä¼˜åŒ–ï¼ˆä¸Šï¼‰ï¼šä»å¯åŠ¨è¿‡ç¨‹çœ‹å¯åŠ¨é€Ÿåº¦ä¼˜åŒ–
            </h1>
            <div data-v-87ffcada="" class="article-content typo common-content pd"><img data-v-87ffcada=""
                                                                                        src="https://static001.geekbang.org/resource/image/c2/23/c24d7b0cd43ab5d07b58dc11f6ad3e23.jpg">


                <div data-v-87ffcada="" id="article-content" class="">
                    <div class="text">
                        <blockquote>
<p>åœ¨è¶…å¸‚æ’é˜Ÿç»“è´¦ï¼Œæ‰«ç æ”¯ä»˜å¯åŠ¨åå‡ ç§’éƒ½è¿˜æ²¡å®Œæˆï¼Œåªèƒ½æ¢ä¸€ä¸ªå·¥å…·æ”¯ä»˜ï¼Ÿ</p>
</blockquote><blockquote>
<p>æƒ³ä¹°æœ¬ä¹¦å……å®ä¸€ä¸‹ï¼Œé¡µé¢åˆ·å‡ºæ¥æ—¶å€™åå‡ ç§’éƒ½ä¸èƒ½æ“ä½œï¼Œé‚£å°±æ¢ä¸€ä¸ªåº”ç”¨è´­ä¹°ï¼Ÿ</p>
</blockquote><p>ç”¨æˆ·å¦‚æœæƒ³æ‰“å¼€ä¸€ä¸ªåº”ç”¨ï¼Œå°±ä¸€å®šè¦ç»è¿‡â€œå¯åŠ¨â€è¿™ä¸ªæ­¥éª¤ã€‚å¯åŠ¨æ—¶é—´çš„é•¿çŸ­ï¼Œä¸åªæ˜¯ç”¨æˆ·ä½“éªŒçš„é—®é¢˜ï¼Œå¯¹äºæ·˜å®ã€äº¬ä¸œè¿™äº›åº”ç”¨æ¥è¯´ï¼Œä¼šç›´æ¥å½±å“ç•™å­˜å’Œè½¬åŒ–ç­‰æ ¸å¿ƒæ•°æ®ã€‚å¯¹ç ”å‘äººå‘˜æ¥è¯´ï¼Œå¯åŠ¨é€Ÿåº¦æ˜¯æˆ‘ä»¬çš„â€œé—¨é¢â€ï¼Œå®ƒæ¸…æ¸…æ¥šæ¥šå¯ä»¥è¢«æ‰€æœ‰äººçœ‹åˆ°ï¼Œæˆ‘ä»¬éƒ½å¸Œæœ›è‡ªå·±åº”ç”¨çš„å¯åŠ¨é€Ÿåº¦å¯ä»¥ç§’æ€æ‰€æœ‰ç«äº‰å¯¹æ‰‹ã€‚</p><p>é‚£å¯åŠ¨è¿‡ç¨‹ç©¶ç«Ÿä¼šå‡ºç°å“ªäº›é—®é¢˜ï¼Ÿæˆ‘ä»¬åº”è¯¥æ€ä¹ˆå»ä¼˜åŒ–å’Œç›‘æ§åº”ç”¨çš„å¯åŠ¨é€Ÿåº¦å‘¢ï¼Ÿä»Šå¤©æˆ‘ä»¬ä¸€èµ·æ¥çœ‹çœ‹è¿™äº›é—®é¢˜è¯¥å¦‚ä½•è§£å†³ã€‚</p><h2>å¯åŠ¨åˆ†æ</h2><p>åœ¨çœŸæ­£åŠ¨æ‰‹å¼€å§‹ä¼˜åŒ–ä¹‹å‰ï¼Œæˆ‘ä»¬åº”è¯¥å…ˆææ¸…æ¥šä»ç”¨æˆ·ç‚¹å‡»å›¾æ ‡å¼€å§‹ï¼Œæ•´ä¸ªå¯åŠ¨è¿‡ç¨‹ç»è¿‡å“ªå‡ ä¸ªå…³é”®é˜¶æ®µï¼Œåˆä¼šç»™ç”¨æˆ·å¸¦æ¥å“ªäº›ä½“éªŒé—®é¢˜ã€‚</p><p><strong>1. å¯åŠ¨è¿‡ç¨‹åˆ†æ</strong></p><p><img src="https://static001.geekbang.org/resource/image/0d/43/0da2051f1f8d182a531063eb202abf43.png" alt=""></p><p>æˆ‘ä»¥å¾®ä¿¡ä¸ºä¾‹ï¼Œç”¨æˆ·ä»æ¡Œé¢ç‚¹å‡»å›¾æ ‡å¼€å§‹ï¼Œä¼šç»è¿‡4ä¸ªå…³é”®é˜¶æ®µã€‚</p><ul>
<li>
<p><strong>T1é¢„è§ˆçª—å£æ˜¾ç¤º</strong>ã€‚ç³»ç»Ÿåœ¨æ‹‰èµ·å¾®ä¿¡è¿›ç¨‹ä¹‹å‰ï¼Œä¼šå…ˆæ ¹æ®å¾®ä¿¡çš„Themeå±æ€§åˆ›å»ºé¢„è§ˆçª—å£ã€‚å½“ç„¶å¦‚æœæˆ‘ä»¬ç¦ç”¨é¢„è§ˆçª—å£æˆ–è€…å°†é¢„è§ˆçª—å£æŒ‡å®šä¸ºé€æ˜ï¼Œç”¨æˆ·åœ¨è¿™æ®µæ—¶é—´ä¾ç„¶çœ‹åˆ°çš„æ˜¯æ¡Œé¢ã€‚</p>
</li>
<li>
<p><strong>T2é—ªå±æ˜¾ç¤º</strong>ã€‚åœ¨å¾®ä¿¡è¿›ç¨‹å’Œé—ªå±çª—å£é¡µé¢åˆ›å»ºå®Œæ¯•ï¼Œå¹¶ä¸”å®Œæˆä¸€ç³»åˆ—inflate viewã€onmeasureã€onlayoutç­‰å‡†å¤‡å·¥ä½œåï¼Œç”¨æˆ·ç»ˆäºå¯ä»¥çœ‹åˆ°ç†Ÿæ‚‰çš„â€œå°åœ°çƒâ€ã€‚</p>
</li>
<li>
<p><strong>T3ä¸»é¡µæ˜¾ç¤º</strong>ã€‚åœ¨å®Œæˆä¸»çª—å£åˆ›å»ºå’Œé¡µé¢æ˜¾ç¤ºçš„å‡†å¤‡å·¥ä½œåï¼Œç”¨æˆ·å¯ä»¥çœ‹åˆ°å¾®ä¿¡çš„ä¸»ç•Œé¢ã€‚</p>
</li>
<li>
<p><strong>T4ç•Œé¢å¯æ“ä½œ</strong>ã€‚åœ¨å¯åŠ¨å®Œæˆåï¼Œå¾®ä¿¡ä¼šæœ‰æ¯”è¾ƒå¤šçš„å·¥ä½œéœ€è¦ç»§ç»­æ‰§è¡Œï¼Œä¾‹å¦‚èŠå¤©å’Œæœ‹å‹åœˆç•Œé¢çš„é¢„åŠ è½½ã€å°ç¨‹åºæ¡†æ¶å’Œè¿›ç¨‹çš„å‡†å¤‡ç­‰ã€‚åœ¨è¿™äº›å·¥ä½œå®Œæˆåï¼Œç”¨æˆ·æ‰å¯ä»¥çœŸæ­£å¼€å§‹æ„‰å¿«åœ°èŠå¤©ã€‚</p>
</li>
</ul><!-- [[[read_end]]] --><p><strong>2. å¯åŠ¨é—®é¢˜åˆ†æ</strong></p><p>ä»å¯åŠ¨æµç¨‹çš„4ä¸ªå…³é”®é˜¶æ®µï¼Œæˆ‘ä»¬å¯ä»¥æ¨æµ‹å‡ºç”¨æˆ·å¯åŠ¨è¿‡ç¨‹ä¼šé‡åˆ°çš„3ä¸ªé—®é¢˜ã€‚è¿™3ä¸ªé—®é¢˜å…¶å®ä¹Ÿæ˜¯å¤§å¤šæ•°åº”ç”¨åœ¨å¯åŠ¨æ—¶å¯èƒ½ä¼šé‡åˆ°çš„ã€‚</p><ul>
<li>é—®é¢˜1ï¼šç‚¹å‡»å›¾æ ‡å¾ˆä¹…éƒ½ä¸å“åº”</li>
</ul><p>å¦‚æœæˆ‘ä»¬ç¦ç”¨äº†é¢„è§ˆçª—å£æˆ–è€…æŒ‡å®šäº†é€æ˜çš„çš®è‚¤ï¼Œé‚£ç”¨æˆ·ç‚¹å‡»äº†å›¾æ ‡ä¹‹åï¼Œéœ€è¦T2æ—¶é—´æ‰èƒ½çœŸæ­£çœ‹åˆ°åº”ç”¨é—ªå±ã€‚å¯¹äºç”¨æˆ·ä½“éªŒæ¥è¯´ï¼Œç‚¹å‡»äº†å›¾æ ‡ï¼Œè¿‡äº†å‡ ç§’è¿˜æ˜¯åœç•™åœ¨æ¡Œé¢ï¼Œçœ‹èµ·æ¥å°±åƒæ²¡æœ‰ç‚¹å‡»æˆåŠŸï¼Œè¿™åœ¨ä¸­ä½ç«¯æœºä¸­æ›´åŠ æ˜æ˜¾ã€‚</p><ul>
<li>é—®é¢˜2ï¼šé¦–é¡µæ˜¾ç¤ºå¤ªæ…¢</li>
</ul><p>ç°åœ¨åº”ç”¨å¯åŠ¨æµç¨‹è¶Šæ¥è¶Šå¤æ‚ï¼Œé—ªå±å¹¿å‘Šã€çƒ­ä¿®å¤æ¡†æ¶ã€æ’ä»¶åŒ–æ¡†æ¶ã€å¤§å‰ç«¯æ¡†æ¶ï¼Œæ‰€æœ‰å‡†å¤‡å·¥ä½œéƒ½éœ€è¦é›†ä¸­åœ¨å¯åŠ¨é˜¶æ®µå®Œæˆã€‚ä¸Šé¢è¯´çš„T3é¦–é¡µæ˜¾ç¤ºæ—¶é—´å¯¹äºä¸­ä½ç«¯æœºæ¥è¯´ç®€ç›´å°±æ˜¯å™©æ¢¦ï¼Œç»å¸¸ä¼šè¾¾åˆ°åå‡ ç§’çš„æ—¶é—´ã€‚</p><ul>
<li>é—®é¢˜3ï¼šé¦–é¡µæ˜¾ç¤ºåæ— æ³•æ“ä½œã€‚</li>
</ul><p>æ—¢ç„¶é¦–é¡µæ˜¾ç¤ºé‚£ä¹ˆæ…¢ï¼Œé‚£æˆ‘èƒ½ä¸èƒ½æŠŠå°½é‡å¤šçš„å·¥ä½œéƒ½é€šè¿‡å¼‚æ­¥åŒ–å»¶åæ‰§è¡Œå‘¢ï¼Ÿå¾ˆå¤šåº”ç”¨çš„ç¡®å°±æ˜¯è¿™ä¹ˆåšçš„ï¼Œä½†è¿™ä¼šé€ æˆä¸¤ç§åæœï¼šè¦ä¹ˆé¦–é¡µä¼šå‡ºç°ç™½å±ï¼Œè¦ä¹ˆé¦–é¡µå‡ºæ¥åç”¨æˆ·æ ¹æœ¬æ— æ³•æ“ä½œã€‚</p><p>å¾ˆå¤šåº”ç”¨æŠŠå¯åŠ¨ç»“æŸæ—¶é—´çš„ç»Ÿè®¡æ”¾åˆ°é¦–é¡µåˆšå‡ºç°çš„æ—¶å€™ï¼Œè¿™å¯¹ç”¨æˆ·æ˜¯ä¸è´Ÿè´£ä»»çš„ã€‚çœ‹åˆ°ä¸€ä¸ªé¦–é¡µï¼Œä½†æ˜¯åœä½åå‡ ç§’éƒ½ä¸èƒ½æ»‘åŠ¨ï¼Œè¿™å¯¹ç”¨æˆ·æ¥è¯´å®Œå…¨æ²¡æœ‰æ„ä¹‰ã€‚<strong>å¯åŠ¨ä¼˜åŒ–ä¸èƒ½è¿‡äºKPIåŒ–ï¼Œè¦ä»ç”¨æˆ·çš„çœŸå®ä½“éªŒå‡ºå‘ï¼Œè¦ç€çœ¼ä»ç‚¹å‡»å›¾æ ‡åˆ°ç”¨æˆ·å¯æ“ä½œçš„æ•´ä¸ªè¿‡ç¨‹ã€‚</strong></p><h2>å¯åŠ¨ä¼˜åŒ–</h2><p>å¯åŠ¨é€Ÿåº¦ä¼˜åŒ–çš„æ–¹æ³•å’Œå¡é¡¿ä¼˜åŒ–åŸºæœ¬ç›¸åŒï¼Œä¸è¿‡å› ä¸ºå¯åŠ¨å®åœ¨æ˜¯å¤ªé‡è¦äº†ï¼Œæˆ‘ä»¬ä¼šæ›´åŠ â€œç²¾æ‰“ç»†ç®—â€ã€‚æˆ‘ä»¬å¸Œæœ›å¯åŠ¨æœŸé—´åŠ è½½çš„æ¯ä¸ªåŠŸèƒ½å’Œä¸šåŠ¡éƒ½æ˜¯å¿…é¡»çš„ï¼Œå®ƒä»¬çš„å®ç°éƒ½æ˜¯ç»è¿‡â€œåƒé”¤ç™¾ç‚¼â€çš„ï¼Œç‰¹åˆ«æ˜¯åœ¨ä¸­ä½ç«¯æœºä¸Šé¢çš„è¡¨ç°ã€‚</p><p><strong>1. ä¼˜åŒ–å·¥å…·</strong></p><p>â€œå·¥æ¬²å–„å…¶äº‹å¿…å…ˆåˆ©å…¶å™¨â€ï¼Œæˆ‘ä»¬éœ€è¦å…ˆæ‰¾åˆ°ä¸€æ¬¾é€‚åˆåšå¯åŠ¨ä¼˜åŒ–åˆ†æçš„å·¥å…·ã€‚</p><p>ä½ å¯ä»¥å…ˆå›å¿†ä¸€ä¸‹â€œå¡é¡¿ä¼˜åŒ–â€æåˆ°çš„å‡ ç§å·¥å…·ã€‚Traceviewæ€§èƒ½æŸè€—å¤ªå¤§ï¼Œå¾—å‡ºçš„ç»“æœå¹¶ä¸çœŸå®ï¼›Nanoscopeéå¸¸çœŸå®ï¼Œä¸è¿‡æš‚æ—¶åªæ”¯æŒNexus 6På’Œx86æ¨¡æ‹Ÿå™¨ï¼Œæ— æ³•é’ˆå¯¹ä¸­ä½ç«¯æœºåšæµ‹è¯•ï¼›Simpleperfçš„ç«ç„°å›¾å¹¶ä¸é€‚åˆåšå¯åŠ¨æµç¨‹åˆ†æï¼›systraceå¯ä»¥å¾ˆæ–¹ä¾¿åœ°è¿½è¸ªå…³é”®ç³»ç»Ÿè°ƒç”¨çš„è€—æ—¶æƒ…å†µï¼Œä½†æ˜¯ä¸æ”¯æŒåº”ç”¨ç¨‹åºä»£ç çš„è€—æ—¶åˆ†æã€‚</p><p>ç»¼åˆæ¥çœ‹ï¼Œåœ¨å¡é¡¿ä¼˜åŒ–ä¸­æåˆ°â€œsystrace + å‡½æ•°æ’æ¡©â€ä¼¼ä¹æ˜¯æ¯”è¾ƒç†æƒ³çš„æ–¹æ¡ˆï¼Œè€Œä¸”å®ƒè¿˜å¯ä»¥çœ‹åˆ°ç³»ç»Ÿçš„ä¸€äº›å…³é”®äº‹ä»¶ï¼Œä¾‹å¦‚GCã€System Serverã€CPUè°ƒåº¦ç­‰ã€‚</p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹é¢çš„å‘½ä»¤ï¼Œå¯ä»¥æŸ¥çœ‹æ‰‹æœºæ”¯æŒå“ªäº›systraceç±»å‹ã€‚ä¸åŒçš„ç³»ç»Ÿæ”¯æŒçš„ç±»å‹æœ‰æ‰€å·®åˆ«ï¼Œå…¶ä¸­Dalvikã€schedã€ssã€appéƒ½æ˜¯æˆ‘ä»¬æ¯”è¾ƒå…³å¿ƒçš„ã€‚</p><pre><code>python systrace.py --list-categories
</code></pre><p>é€šè¿‡æ’æ¡©ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°åº”ç”¨ä¸»çº¿ç¨‹å’Œå…¶ä»–çº¿ç¨‹çš„å‡½æ•°è°ƒç”¨æµç¨‹ã€‚å®ƒçš„å®ç°åŸç†éå¸¸ç®€å•ï¼Œå°±æ˜¯å°†ä¸‹é¢çš„ä¸¤ä¸ªå‡½æ•°åˆ†åˆ«æ’å…¥åˆ°æ¯ä¸ªæ–¹æ³•çš„å…¥å£å’Œå‡ºå£ã€‚</p><pre><code>class Trace {
  public static void i(String tag) {
    Trace.beginSection(name);
  }


  public static void o() {
      Trace.endSection();
  }
}
</code></pre><p>å½“ç„¶è¿™é‡Œé¢æœ‰éå¸¸å¤šçš„ç»†èŠ‚éœ€è¦è€ƒè™‘ï¼Œæ¯”å¦‚æ€ä¹ˆæ ·é™ä½æ’æ¡©å¯¹æ€§èƒ½çš„å½±å“ã€å“ªäº›å‡½æ•°éœ€è¦è¢«æ’é™¤æ‰ã€‚æœ€ç»ˆæ”¹è‰¯ç‰ˆçš„systraceæ€§èƒ½æŸè€—åœ¨ä¸€å€ä»¥å†…ï¼ŒåŸºæœ¬å¯ä»¥åæ˜ çœŸå®çš„å¯åŠ¨æµç¨‹ã€‚å‡½æ•°æ’æ¡©åçš„æ•ˆæœå¦‚ä¸‹ï¼Œä½ ä¹Ÿå¯ä»¥å‚è€ƒè¯¾åç»ƒä¹ çš„Sampleã€‚</p><pre><code>class Test {
  public void test() {
    Trace.i(&quot;Test.test()&quot;);
    //åŸæ¥çš„å·¥ä½œ
    Trace.o()ï¼›
  }
}
</code></pre><p><strong>åªæœ‰å‡†ç¡®çš„æ•°æ®è¯„ä¼°æ‰èƒ½æŒ‡å¼•ä¼˜åŒ–çš„æ–¹å‘ï¼Œè¿™ä¸€æ­¥æ˜¯éå¸¸éå¸¸é‡è¦çš„ã€‚æˆ‘è§è¿‡å¤ªå¤šåŒå­¦åœ¨æ²¡æœ‰å……åˆ†è¯„ä¼°æˆ–è€…è¯„ä¼°ä½¿ç”¨äº†é”™è¯¯çš„æ–¹æ³•ï¼Œæœ€ç»ˆå¾—åˆ°äº†é”™è¯¯çš„æ–¹å‘ã€‚è¾›è¾›è‹¦è‹¦ä¸€ä¸¤ä¸ªæœˆï¼Œæœ€åå‘ç°æ ¹æœ¬è¾¾ä¸åˆ°é¢„æœŸçš„æ•ˆæœã€‚</strong></p><p><strong>2. ä¼˜åŒ–æ–¹å¼</strong></p><p>åœ¨æ‹¿åˆ°æ•´ä¸ªå¯åŠ¨æµç¨‹çš„å…¨æ™¯å›¾ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ°è¿™æ®µæ—¶é—´å†…ç³»ç»Ÿã€åº”ç”¨å„ä¸ªè¿›ç¨‹å’Œçº¿ç¨‹çš„è¿è¡Œæƒ…å†µï¼Œç°åœ¨æˆ‘ä»¬è¦å¼€å§‹çœŸæ­£å¼€å§‹â€œå¹²æ´»â€äº†ã€‚</p><p>å…·ä½“çš„ä¼˜åŒ–æ–¹å¼ï¼Œæˆ‘æŠŠå®ƒä»¬åˆ†ä¸ºé—ªå±ä¼˜åŒ–ã€ä¸šåŠ¡æ¢³ç†ã€ä¸šåŠ¡ä¼˜åŒ–ã€çº¿ç¨‹ä¼˜åŒ–ã€GCä¼˜åŒ–å’Œç³»ç»Ÿè°ƒç”¨ä¼˜åŒ–ã€‚</p><ul>
<li>é—ªå±ä¼˜åŒ–</li>
</ul><p>ä»Šæ—¥å¤´æ¡æŠŠé¢„è§ˆçª—å£å®ç°æˆé—ªå±çš„æ•ˆæœï¼Œè¿™æ ·ç”¨æˆ·åªéœ€è¦å¾ˆçŸ­çš„æ—¶é—´å°±å¯ä»¥çœ‹åˆ°â€œé¢„è§ˆé—ªå±â€ã€‚è¿™ç§å®Œå…¨â€œè·Ÿæ‰‹â€çš„æ„Ÿè§‰åœ¨é«˜ç«¯æœºä¸Šä½“éªŒéå¸¸å¥½ï¼Œä½†å¯¹äºä¸­ä½ç«¯æœºï¼Œä¼šæŠŠæ€»çš„çš„é—ªå±æ—¶é—´å˜å¾—æ›´é•¿ã€‚</p><p>å¦‚æœç‚¹å‡»å›¾æ ‡æ²¡æœ‰å“åº”ï¼Œç”¨æˆ·ä¸»è§‚ä¸Šä¼šè®¤ä¸ºæ˜¯æ‰‹æœºç³»ç»Ÿå“åº”æ¯”è¾ƒæ…¢ã€‚æ‰€ä»¥<strong>æˆ‘æ¯”è¾ƒæ¨èçš„åšæ³•æ˜¯ï¼Œåªåœ¨Android 6.0æˆ–è€…Android 7.0ä»¥ä¸Šæ‰å¯ç”¨â€œé¢„è§ˆé—ªå±â€æ–¹æ¡ˆï¼Œè®©æ‰‹æœºæ€§èƒ½å¥½çš„ç”¨æˆ·å¯ä»¥æœ‰æ›´å¥½çš„ä½“éªŒ</strong>ã€‚</p><p>å¾®ä¿¡åšçš„å¦å¤–ä¸€ä¸ªä¼˜åŒ–æ˜¯åˆå¹¶é—ªå±å’Œä¸»é¡µé¢çš„Activityï¼Œå‡å°‘ä¸€ä¸ªActivityä¼šç»™çº¿ä¸Šå¸¦æ¥100æ¯«ç§’å·¦å³çš„ä¼˜åŒ–ã€‚ä½†æ˜¯å¦‚æœè¿™æ ·åšçš„è¯ï¼Œç®¡ç†æ—¶ä¼šéå¸¸å¤æ‚ï¼Œç‰¹åˆ«æ˜¯æœ‰å¾ˆå¤šä¾‹å¦‚PWAã€æ‰«ä¸€æ‰«è¿™æ ·çš„ç¬¬ä¸‰æ–¹å¯åŠ¨æµç¨‹çš„æ—¶å€™ã€‚</p><ul>
<li>ä¸šåŠ¡æ¢³ç†</li>
</ul><p>æˆ‘ä»¬é¦–å…ˆéœ€è¦æ¢³ç†æ¸…æ¥šå½“å‰å¯åŠ¨è¿‡ç¨‹æ­£åœ¨è¿è¡Œçš„æ¯ä¸€ä¸ªæ¨¡å—ï¼Œå“ªäº›æ˜¯ä¸€å®šéœ€è¦çš„ã€å“ªäº›å¯ä»¥ç æ‰ã€å“ªäº›å¯ä»¥æ‡’åŠ è½½ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥æ ¹æ®ä¸šåŠ¡åœºæ™¯æ¥å†³å®šä¸åŒçš„å¯åŠ¨æ¨¡å¼ï¼Œä¾‹å¦‚é€šè¿‡æ‰«ä¸€æ‰«å¯åŠ¨åªéœ€è¦åŠ è½½éœ€è¦çš„å‡ ä¸ªæ¨¡å—å³å¯ã€‚å¯¹äºä¸­ä½ç«¯æœºå™¨ï¼Œæˆ‘ä»¬è¦å­¦ä¼šé™çº§ï¼Œå­¦ä¼šæ¨åŠ¨äº§å“ç»ç†åšä¸€äº›åŠŸèƒ½å–èˆã€‚ä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<strong>æ‡’åŠ è½½è¦é˜²æ­¢é›†ä¸­åŒ–ï¼Œå¦åˆ™å®¹æ˜“å‡ºç°é¦–é¡µæ˜¾ç¤ºåç”¨æˆ·æ— æ³•æ“ä½œçš„æƒ…å½¢</strong>ã€‚</p><ul>
<li>ä¸šåŠ¡ä¼˜åŒ–</li>
</ul><p>é€šè¿‡æ¢³ç†ä¹‹åï¼Œå‰©ä¸‹çš„éƒ½æ˜¯å¯åŠ¨è¿‡ç¨‹ä¸€å®šè¦ç”¨çš„æ¨¡å—ã€‚è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬åªèƒ½ç¡¬ç€å¤´çš®å»åšè¿›ä¸€æ­¥çš„ä¼˜åŒ–ã€‚ä¼˜åŒ–å‰æœŸéœ€è¦â€œæŠ“å¤§æ”¾å°â€ï¼Œå…ˆçœ‹çœ‹ä¸»çº¿ç¨‹ç©¶ç«Ÿæ…¢åœ¨å“ªé‡Œã€‚æœ€ç†æƒ³æ˜¯é€šè¿‡ç®—æ³•è¿›è¡Œä¼˜åŒ–ï¼Œä¾‹å¦‚ä¸€ä¸ªæ•°æ®è§£å¯†æ“ä½œéœ€è¦1ç§’ï¼Œé€šè¿‡ç®—æ³•ä¼˜åŒ–ä¹‹åå˜æˆ10æ¯«ç§’ã€‚é€€è€Œæ±‚å…¶æ¬¡ï¼Œæˆ‘ä»¬è¦è€ƒè™‘è¿™äº›ä»»åŠ¡æ˜¯ä¸æ˜¯å¯ä»¥é€šè¿‡å¼‚æ­¥çº¿ç¨‹é¢„åŠ è½½å®ç°ï¼Œ<strong>ä½†éœ€è¦æ³¨æ„çš„æ˜¯è¿‡å¤šçš„çº¿ç¨‹é¢„åŠ è½½ä¼šè®©æˆ‘ä»¬çš„é€»è¾‘å˜å¾—æ›´åŠ å¤æ‚ã€‚</strong></p><p>ä¸šåŠ¡ä¼˜åŒ–åšåˆ°åé¢ï¼Œä¼šå‘ç°ä¸€äº›æ¶æ„å’Œå†å²åŒ…è¢±ä¼šæ‹–ç´¯æˆ‘ä»¬å‰è¿›çš„æ­¥ä¼ã€‚æ¯”è¾ƒå¸¸è§çš„æ˜¯ä¸€äº›äº‹ä»¶ä¼šè¢«å„ä¸ªä¸šåŠ¡æ¨¡å—ç›‘å¬ï¼Œå¤§é‡çš„å›è°ƒå¯¼è‡´å¾ˆå¤šå·¥ä½œé›†ä¸­æ‰§è¡Œï¼Œéƒ¨åˆ†æ¡†æ¶åˆå§‹åŒ–â€œå¤ªåšâ€ï¼Œä¾‹å¦‚ä¸€äº›æ’ä»¶åŒ–æ¡†æ¶ï¼Œå¯åŠ¨è¿‡ç¨‹å„ç§åå°„ã€å„ç§Hookï¼Œæ•´ä¸ªè€—æ—¶è‡³å°‘å‡ ç™¾æ¯«ç§’ã€‚è¿˜æœ‰ä¸€äº›å†å²åŒ…è¢±åˆéå¸¸æ²‰é‡ï¼Œè€Œä¸”â€œç‰µä¸€å‘åŠ¨å…¨èº«â€ï¼Œæ”¹åŠ¨é£é™©æ¯”è¾ƒå¤§ã€‚ä½†æ˜¯æˆ‘æƒ³è¯´ï¼Œå¦‚æœæœ‰åˆé€‚çš„æ—¶æœºï¼Œæˆ‘ä»¬ä¾ç„¶éœ€è¦å‹‡æ•¢å»å¿è¿˜è¿™äº›â€œå†å²å€ºåŠ¡â€ã€‚</p><ul>
<li>çº¿ç¨‹ä¼˜åŒ–</li>
</ul><p>çº¿ç¨‹ä¼˜åŒ–å°±åƒåšå¡«ç©ºé¢˜å’Œè§£é”é¢˜ï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½æŠŠæ‰€æœ‰çš„æ—¶é—´ç‰‡éƒ½åˆ©ç”¨ä¸Šï¼Œå› æ­¤ä¸»çº¿ç¨‹å’Œå„ä¸ªçº¿ç¨‹éƒ½æ˜¯ä¸€ç›´æ»¡è½½çš„ã€‚å½“ç„¶æˆ‘ä»¬ä¹Ÿå¸Œæœ›æ¯ä¸ªçº¿ç¨‹éƒ½å¼€è¶³é©¬åŠ›å‘å‰è·‘ï¼Œè€Œä¸æ˜¯ä½œä¸ºæ¥åŠ›æ£’ã€‚<strong>æ‰€ä»¥çº¿ç¨‹çš„ä¼˜åŒ–ä¸»è¦åœ¨äºå‡å°‘CPUè°ƒåº¦å¸¦æ¥çš„æ³¢åŠ¨ï¼Œè®©åº”ç”¨çš„å¯åŠ¨æ—¶é—´æ›´åŠ ç¨³å®šã€‚</strong></p><p>ä»å…·ä½“çš„åšæ³•æ¥çœ‹ï¼Œçº¿ç¨‹çš„ä¼˜åŒ–ä¸€æ–¹é¢æ˜¯æ§åˆ¶çº¿ç¨‹æ•°é‡ï¼Œçº¿ç¨‹æ•°é‡å¤ªå¤šä¼šç›¸äº’ç«äº‰CPUèµ„æºï¼Œå› æ­¤è¦æœ‰ç»Ÿä¸€çš„çº¿ç¨‹æ± ï¼Œå¹¶ä¸”æ ¹æ®æœºå™¨æ€§èƒ½æ¥æ§åˆ¶æ•°é‡ã€‚</p><p>çº¿ç¨‹åˆ‡æ¢çš„æ•°æ®æˆ‘ä»¬å¯ä»¥é€šè¿‡å¡é¡¿ä¼˜åŒ–ä¸­å­¦åˆ°çš„schedæ–‡ä»¶æŸ¥çœ‹ï¼Œè¿™é‡Œç‰¹åˆ«éœ€è¦æ³¨æ„nr_involuntary_switchesè¢«åŠ¨åˆ‡æ¢çš„æ¬¡æ•°ã€‚</p><pre><code>proc/[pid]/sched:
  nr_voluntary_switchesï¼š     
  ä¸»åŠ¨ä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°ï¼Œå› ä¸ºçº¿ç¨‹æ— æ³•è·å–æ‰€éœ€èµ„æºå¯¼è‡´ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œæœ€æ™®éçš„æ˜¯IOã€‚    
  nr_involuntary_switchesï¼š   
  è¢«åŠ¨ä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°ï¼Œçº¿ç¨‹è¢«ç³»ç»Ÿå¼ºåˆ¶è°ƒåº¦å¯¼è‡´ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œä¾‹å¦‚å¤§é‡çº¿ç¨‹åœ¨æŠ¢å CPUã€‚
</code></pre><p>å¦ä¸€æ–¹é¢æ˜¯æ£€æŸ¥çº¿ç¨‹é—´çš„é”ã€‚ä¸ºäº†æé«˜å¯åŠ¨è¿‡ç¨‹ä»»åŠ¡æ‰§è¡Œçš„é€Ÿåº¦ï¼Œæœ‰ä¸€æ¬¡æˆ‘ä»¬æŠŠä¸»çº¿ç¨‹å†…çš„ä¸€ä¸ªè€—æ—¶ä»»åŠ¡æ”¾åˆ°çº¿ç¨‹ä¸­å¹¶å‘æ‰§è¡Œï¼Œä½†æ˜¯å‘ç°è¿™æ ·åšæ ¹æœ¬æ²¡èµ·ä½œç”¨ã€‚ä»”ç»†æ£€æŸ¥åå‘ç°çº¿ç¨‹å†…éƒ¨ä¼šæŒæœ‰ä¸€ä¸ªé”ï¼Œä¸»çº¿ç¨‹å¾ˆå¿«å°±æœ‰å…¶ä»–ä»»åŠ¡å› ä¸ºè¿™ä¸ªé”è€Œç­‰å¾…ã€‚é€šè¿‡systraceå¯ä»¥çœ‹åˆ°é”ç­‰å¾…çš„äº‹ä»¶ï¼Œæˆ‘ä»¬éœ€è¦æ’æŸ¥è¿™äº›ç­‰å¾…æ˜¯å¦å¯ä»¥ä¼˜åŒ–ï¼Œç‰¹åˆ«æ˜¯é˜²æ­¢ä¸»çº¿ç¨‹å‡ºç°é•¿æ—¶é—´çš„ç©ºè½¬ã€‚</p><p><img src="https://static001.geekbang.org/resource/image/36/b2/36316813548502f6cf241189e2a73cb2.png" alt=""></p><p>ç‰¹åˆ«æ˜¯ç°åœ¨æœ‰å¾ˆå¤šå¯åŠ¨æ¡†æ¶ï¼Œä¼šä½¿ç”¨Pipelineæœºåˆ¶ï¼Œæ ¹æ®ä¸šåŠ¡ä¼˜å…ˆçº§è§„å®šä¸šåŠ¡åˆå§‹åŒ–æ—¶æœºã€‚æ¯”å¦‚å¾®ä¿¡å†…éƒ¨ä½¿ç”¨çš„<a href="http://mp.weixin.qq.com/s/6Q818XA5FaHd7jJMFBG60w">mmkernel</a>ã€é˜¿é‡Œæœ€è¿‘å¼€æºçš„<a href="http://github.com/alibaba/alpha">Alpha</a>å¯åŠ¨æ¡†æ¶ï¼Œå®ƒä»¬ä¸ºå„ä¸ªä»»åŠ¡å»ºç«‹ä¾èµ–å…³ç³»ï¼Œæœ€ç»ˆæ„æˆä¸€ä¸ªæœ‰å‘æ— ç¯å›¾ã€‚å¯¹äºå¯ä»¥å¹¶å‘çš„ä»»åŠ¡ï¼Œä¼šé€šè¿‡çº¿ç¨‹æ± æœ€å¤§ç¨‹åº¦æå‡å¯åŠ¨é€Ÿåº¦ã€‚å¦‚æœä»»åŠ¡çš„ä¾èµ–å…³ç³»æ²¡æœ‰é…ç½®å¥½ï¼Œå¾ˆå®¹æ˜“å‡ºç°ä¸‹å›¾è¿™ç§æƒ…å†µï¼Œå³ä¸»çº¿ç¨‹ä¼šä¸€ç›´ç­‰å¾…taskCç»“æŸï¼Œç©ºè½¬2950æ¯«ç§’ã€‚</p><p><img src="https://static001.geekbang.org/resource/image/86/db/868a5f4c47224be920e97b82d03905db.png" alt=""></p><ul>
<li>GCä¼˜åŒ–</li>
</ul><p>åœ¨å¯åŠ¨è¿‡ç¨‹ï¼Œè¦å°½é‡å‡å°‘GCçš„æ¬¡æ•°ï¼Œé¿å…é€ æˆä¸»çº¿ç¨‹é•¿æ—¶é—´çš„å¡é¡¿ï¼Œç‰¹åˆ«æ˜¯å¯¹Dalvikæ¥è¯´ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡systraceå•ç‹¬æŸ¥çœ‹æ•´ä¸ªå¯åŠ¨è¿‡ç¨‹GCçš„æ—¶é—´ã€‚</p><pre><code>python systrace.py dalvik -b 90960 -a com.sample.gc
</code></pre><p>å¯¹äºGCå„ä¸ªäº‹ä»¶çš„å…·ä½“å«ä¹‰ï¼Œä½ å¯ä»¥å‚è€ƒ<a href="http://developer.android.com/studio/profile/investigate-ram?hl=zh-cn">ã€Šè°ƒæŸ¥RAMä½¿ç”¨æƒ…å†µã€‹</a>ã€‚</p><p><img src="https://static001.geekbang.org/resource/image/d9/93/d9b93eb8de70426f9a487b006d335093.png" alt=""></p><p>ä¸çŸ¥é“ä½ æ˜¯å¦è¿˜è®°å¾—æˆ‘åœ¨â€œå†…å­˜ä¼˜åŒ–â€ä¸­æåˆ°Debug.startAllocCountingï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨å®ƒæ¥ç›‘æ§å¯åŠ¨è¿‡ç¨‹æ€»GCçš„è€—æ—¶æƒ…å†µï¼Œç‰¹åˆ«æ˜¯é˜»å¡å¼åŒæ­¥GCçš„æ€»æ¬¡æ•°å’Œè€—æ—¶ã€‚</p><pre><code>// GCä½¿ç”¨çš„æ€»è€—æ—¶ï¼Œå•ä½æ˜¯æ¯«ç§’
Debug.getRuntimeStat(&quot;art.gc.gc-time&quot;);
// é˜»å¡å¼GCçš„æ€»è€—æ—¶
Debug.getRuntimeStat(&quot;art.gc.blocking-gc-time&quot;);
</code></pre><p>å¦‚æœæˆ‘ä»¬å‘ç°ä¸»çº¿ç¨‹å‡ºç°æ¯”è¾ƒå¤šçš„GCåŒæ­¥ç­‰å¾…ï¼Œé‚£å°±éœ€è¦é€šè¿‡Allocationå·¥å…·åšè¿›ä¸€æ­¥çš„åˆ†æã€‚å¯åŠ¨è¿‡ç¨‹é¿å…è¿›è¡Œå¤§é‡çš„å­—ç¬¦ä¸²æ“ä½œï¼Œç‰¹åˆ«æ˜¯åºåˆ—åŒ–è·Ÿååºåˆ—åŒ–è¿‡ç¨‹ã€‚ä¸€äº›é¢‘ç¹åˆ›å»ºçš„å¯¹è±¡ï¼Œä¾‹å¦‚ç½‘ç»œåº“å’Œå›¾ç‰‡åº“ä¸­çš„Byteæ•°ç»„ã€Bufferå¯ä»¥å¤ç”¨ã€‚å¦‚æœä¸€äº›æ¨¡å—å®åœ¨éœ€è¦é¢‘ç¹åˆ›å»ºå¯¹è±¡ï¼Œå¯ä»¥è€ƒè™‘ç§»åˆ°Nativeå®ç°ã€‚</p><p>Javaå¯¹è±¡çš„é€ƒé€¸ä¹Ÿå¾ˆå®¹æ˜“å¼•èµ·GCé—®é¢˜ï¼Œæˆ‘ä»¬åœ¨å†™ä»£ç çš„æ—¶å€™æ¯”è¾ƒå®¹æ˜“å¿½ç•¥è¿™ä¸ªç‚¹ã€‚æˆ‘ä»¬åº”è¯¥ä¿è¯å¯¹è±¡ç”Ÿå‘½å‘¨æœŸå°½é‡çš„çŸ­ï¼Œåœ¨æ ˆä¸Šå°±è¿›è¡Œé”€æ¯ã€‚</p><ul>
<li>ç³»ç»Ÿè°ƒç”¨ä¼˜åŒ–</li>
</ul><p>é€šè¿‡systraceçš„System Serviceç±»å‹ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å¯åŠ¨è¿‡ç¨‹System Serverçš„CPUå·¥ä½œæƒ…å†µã€‚åœ¨å¯åŠ¨è¿‡ç¨‹ï¼Œæˆ‘ä»¬å°½é‡ä¸è¦åšç³»ç»Ÿè°ƒç”¨ï¼Œä¾‹å¦‚PackageManagerServiceæ“ä½œã€Binderè°ƒç”¨ç­‰å¾…ã€‚</p><p>åœ¨å¯åŠ¨è¿‡ç¨‹ä¹Ÿä¸è¦è¿‡æ—©åœ°æ‹‰èµ·åº”ç”¨çš„å…¶ä»–è¿›ç¨‹ï¼ŒSystem Serverå’Œæ–°çš„è¿›ç¨‹éƒ½ä¼šç«äº‰CPUèµ„æºã€‚ç‰¹åˆ«æ˜¯ç³»ç»Ÿå†…å­˜ä¸è¶³çš„æ—¶å€™ï¼Œå½“æˆ‘ä»¬æ‹‰èµ·ä¸€ä¸ªæ–°çš„è¿›ç¨‹ï¼Œå¯èƒ½ä¼šæˆä¸ºâ€œå‹æ­»éª†é©¼çš„æœ€åä¸€æ ¹ç¨»è‰â€ã€‚å®ƒå¯èƒ½ä¼šè§¦å‘ç³»ç»Ÿçš„low memory killeræœºåˆ¶ï¼Œå¯¼è‡´ç³»ç»Ÿæ€æ­»å’Œæ‹‰èµ·ï¼ˆä¿æ´»ï¼‰å¤§é‡çš„è¿›ç¨‹ï¼Œä»è€Œå½±å“å‰å°è¿›ç¨‹çš„CPUã€‚</p><p>è®²ä¸ªå®è·µçš„æ¡ˆä¾‹ï¼Œä¹‹å‰æˆ‘ä»¬çš„ä¸€ä¸ªç¨‹åºåœ¨å¯åŠ¨è¿‡ç¨‹ä¼šæ‹‰èµ·ä¸‹è½½å’Œè§†é¢‘æ’­æ”¾è¿›ç¨‹ï¼Œæ”¹ä¸ºæŒ‰éœ€æ‹‰èµ·åï¼Œçº¿ä¸Šå¯åŠ¨æ—¶é—´æé«˜äº†3%ï¼Œå¯¹äº1GBä»¥ä¸‹çš„ä½ç«¯æœºä¼˜åŒ–ï¼Œæ•´ä¸ªå¯åŠ¨æ—¶é—´å¯ä»¥ä¼˜åŒ–5%ï½8%ï¼Œæ•ˆæœè¿˜æ˜¯éå¸¸æ˜æ˜¾çš„ã€‚</p><h2>æ€»ç»“</h2><p>ä»Šå¤©æˆ‘ä»¬é¦–å…ˆå­¦ä¹ äº†å¯åŠ¨çš„æ•´ä¸ªæµç¨‹ï¼Œå…¶ä¸­æ¯”è¾ƒå…³é”®çš„æ˜¯4ä¸ªé˜¶æ®µã€‚åœ¨è¿™4ä¸ªé˜¶æ®µä¸­ï¼Œç”¨æˆ·å¯èƒ½ä¼šå‡ºç°â€œç‚¹å‡»å›¾æ ‡å¾ˆä¹…éƒ½ä¸å“åº”â€œâ€é¦–é¡µæ˜¾ç¤ºå¤ªæ…¢â€œå’Œâ€é¦–é¡µæ˜¾ç¤ºåæ— æ³•æ“ä½œâ€œè¿™3ä¸ªé—®é¢˜ã€‚</p><p>æ¥ç€æˆ‘ä»¬å­¦ä¹ äº†å¯åŠ¨ä¼˜åŒ–å’Œç›‘æ§çš„ä¸€äº›å¸¸è§„æ–¹æ³•ã€‚é’ˆå¯¹ä¸åŒçš„ä¸šåŠ¡åœºæ™¯ã€ä¸åŒæ€§èƒ½çš„æœºå™¨ï¼Œéœ€è¦é‡‡ç”¨ä¸åŒçš„ç­–ç•¥ã€‚<strong>æœ‰äº›çŸ¥è¯†ç‚¹ä¼¼ä¹æ¯”è¾ƒâ€œæµ…å°è¾„æ­¢â€ï¼Œæˆ‘æ›´å¸Œæœ›ä½ èƒ½å¤Ÿé€šè¿‡å­¦ä¹ å’Œå®è·µå°†å®ƒä»¬ä¸°å¯Œèµ·æ¥ã€‚</strong></p><p>æˆ‘è®²åˆ°çš„å¤§éƒ¨åˆ†å†…å®¹éƒ½æ˜¯è·Ÿä¸šåŠ¡ç›¸å…³ï¼Œä¸šåŠ¡çš„æ¢³ç†å’Œä¼˜åŒ–ä¹Ÿæ˜¯æœ€å¿«å‡ºæˆæœçš„ã€‚ä¸è¿‡è¿™ä¸ªè¿‡ç¨‹æˆ‘ä»¬è¦å­¦ä¼šå–èˆï¼Œä½ å¯èƒ½é‡åˆ°è¿‡ï¼Œå¾ˆå¤šäº§å“ç»ç†ä¸ºäº†æå‡è‡ªå·±è´Ÿè´£çš„æ¨¡å—çš„æ•°æ®ï¼Œæ€»ä¼šé€¼è¿«å¼€å‘åšå„ç§å„æ ·çš„é¢„åŠ è½½ã€‚ä½†æ˜¯å¤§å®¶éƒ½æƒ³å¿«ï¼Œæœ€åçš„ç»“æœå°±æ˜¯ä»£ç ä¸€å›¢ç³Ÿï¼Œè‚¯å®šéƒ½å¿«ä¸èµ·æ¥ã€‚</p><p>æ¯”å¦‚åªæœ‰1%ç”¨æˆ·ä½¿ç”¨çš„åŠŸèƒ½ï¼Œå´è®©æ‰€æœ‰ç”¨æˆ·éƒ½åšé¢„åŠ è½½ã€‚é¢å¯¹è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬è¦ç‹ ä¸‹å¿ƒæ¥ï¼Œåªç•™ä¸‹é‚£äº›çœŸæ­£ä¸èƒ½åˆ é™¤çš„ä¸šåŠ¡ï¼Œæˆ–è€…é€šè¿‡åœºæ™¯åŒ–ç›´æ¥æ‰¾åˆ°é‚£1%çš„ç”¨æˆ·ã€‚è·Ÿäº§å“ç»ç†PKå¯èƒ½ä¸æ˜¯é‚£ä¹ˆå®¹æ˜“ï¼Œå…³é”®åœ¨äºæ•°æ®ã€‚<strong>æˆ‘ä»¬éœ€è¦è¯æ˜å¯åŠ¨ä¼˜åŒ–å¸¦æ¥æ•´ä½“ç•™å­˜ã€è½¬åŒ–çš„æ­£å‘ä»·å€¼ï¼Œæ˜¯å¤§äºæŸä¸ªä¸šåŠ¡å–æ¶ˆé¢„åŠ è½½å¸¦æ¥çš„è´Ÿé¢å½±å“</strong>ã€‚</p><p>å¯åŠ¨ä¼˜åŒ–æ˜¯æ€§èƒ½ä¼˜åŒ–å·¥ä½œéå¸¸é‡è¦çš„ä¸€ç¯ï¼Œ<span class="orange">ä»Šå¤©çš„è¯¾åä½œä¸šæ˜¯ï¼Œåœ¨ä½ è¿‡å»çš„å·¥ä½œä¸­ï¼Œæ›¾ç»é’ˆå¯¹å¯åŠ¨åšè¿‡å“ªäº›ä¼˜åŒ–ï¼Œæœ€ç»ˆæ•ˆæœåˆæ˜¯æ€æ ·çš„å‘¢ï¼Ÿ</span>è¯·ä½ åœ¨ç•™è¨€åŒºåˆ†äº«ä¸€ä¸‹ä»Šå¤©å­¦ä¹ ã€ç»ƒä¹ çš„æ”¶è·ä¸å¿ƒå¾—ã€‚</p><h2>è¯¾åç»ƒä¹ </h2><p>â€œå·¥æ¬²å–„å…¶äº‹å¿…å…ˆåˆ©å…¶å™¨â€ï¼Œæˆ‘å¤šæ¬¡æåˆ°â€œsystrace + å‡½æ•°æ’æ¡©â€æ˜¯ä¸€ä¸ªéå¸¸ä¸é”™çš„å¡é¡¿æ’æŸ¥å·¥å…·ï¼Œé‚£ä¹ˆé€šè¿‡ä»Šå¤©çš„<a href="http://github.com/AndroidAdvanceWithGeektime/Chapter07">Sample</a>ï¼Œæˆ‘ä»¬ä¸€èµ·æ¥çœ‹ä¸€ä¸‹å®ƒæ˜¯å¦‚ä½•å®ç°çš„ã€‚éœ€è¦æ³¨æ„çš„æ˜¯Sampleé€‰æ‹©äº†ASMæ’æ¡©çš„æ–¹å¼ï¼Œæ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥è¯¾åå­¦ä¹ ä¸€ä¸‹å®ƒçš„ä½¿ç”¨æ–¹æ³•ï¼Œåœ¨åç»­æˆ‘ä»¬ä¹Ÿä¼šæœ‰å…³äºæ’æ¡©çš„ä¸“é—¨è¯¾ç¨‹ã€‚</p><p>æˆ‘ä»¬å¯ä»¥å°†Sampleè¿ç”¨åˆ°è‡ªå·±çš„åº”ç”¨ä¸­ï¼Œè™½ç„¶å®ƒè¿‡æ»¤äº†å¤§éƒ¨åˆ†çš„å‡½æ•°ï¼Œä½†æ˜¯æˆ‘ä»¬è¿˜æ˜¯éœ€è¦æ³¨æ„ç™½åå•çš„é…ç½®ã€‚ä¾‹å¦‚logã€åŠ è§£å¯†ç­‰åœ¨åº•å±‚éå¸¸é¢‘ç¹è°ƒç”¨çš„å‡½æ•°ï¼Œéƒ½è¦åœ¨ç™½åå•ä¸­é…ç½®è¿‡æ»¤æ‰ï¼Œä¸ç„¶å¯èƒ½ä¼šå‡ºç°ç±»ä¼¼ä¸‹é¢è¿™æ ·å¤§é‡çš„æ¯›åˆºã€‚</p><p><img src="https://static001.geekbang.org/resource/image/6e/92/6e217938a569f32adffa84ff4eedc492.png" alt=""></p><p>æ¬¢è¿ä½ ç‚¹å‡»â€œè¯·æœ‹å‹è¯»â€ï¼ŒæŠŠä»Šå¤©çš„å†…å®¹åˆ†äº«ç»™å¥½å‹ï¼Œé‚€è¯·ä»–ä¸€èµ·å­¦ä¹ ã€‚æœ€ååˆ«å¿˜äº†åœ¨è¯„è®ºåŒºæäº¤ä»Šå¤©çš„ä½œä¸šï¼Œæˆ‘ä¹Ÿä¸ºè®¤çœŸå®Œæˆä½œä¸šçš„åŒå­¦å‡†å¤‡äº†ä¸°åšçš„â€œå­¦ä¹ åŠ æ²¹ç¤¼åŒ…â€ï¼ŒæœŸå¾…ä¸ä½ ä¸€èµ·åˆ‡ç£‹è¿›æ­¥å“¦ã€‚</p><p><img src="https://static001.geekbang.org/resource/image/bf/f1/bf8fdc35ddccb10b1161d8ca7eb8f8f1.jpg" alt=""></p>
                    </div>
                </div>

            </div>
            <div data-v-87ffcada="" class="article-comments pd"><h2 data-v-87ffcada=""><span
                    data-v-87ffcada="">ç²¾é€‰ç•™è¨€</span></h2>
                <ul data-v-87ffcada="">
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/11/50/9f/28a206c8.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">å¤©è“è‹¥ç©º</span>
                            </div>
                            <div class="bd">è¯·é—®ä¸‹å¼ è€å¸ˆï¼Œå»¶è¿Ÿæ‹‰èµ·è¿›ç¨‹è¦æ€ä¹ˆå¤„ç†ï¼Œåœ¨æ¸…å•æ–‡ä»¶ä¸­å››å¤§ç»„ä»¶æœ‰å¤šè¿›ç¨‹ï¼Œé»˜è®¤å°±åˆå§‹åŒ–äº†æ‰€æœ‰çš„è¿›ç¨‹ï¼Œè¿™ä¸ªæœ‰ç‚¹ä¸æ˜ç™½ <br></div>
                            <span class="time">2018-12-21 09:42</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/10/e7/39/b47b1bc0.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">å¥šå²©</span>
                            </div>
                            <div class="bd">sample è·‘åœ¨çœŸæœºå‡ºç°ä¸‹é¢é”™è¯¯ï¼š<br>Unable to select a master clock domain because no path can be found from &quot;SYSTRACE&quot; to &quot;LINUX_FTRACE_GLOBAL&quot;.<br><br>æ¢æ¨¡æ‹Ÿå™¨å¥½äº†ï¼Œæœ‰é‡è§ç±»ä¼¼çš„ä¹ˆğŸ˜‚ <br></div>
                            <span class="time">2018-12-28 15:00</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="http://thirdwx.qlogo.cn/mmopen/vi_32/0o2FEeJiav8lK9Y49JUOBretDypyHic2FL9dSZYnweBPZ5ibm3vgfm3q7kgXmQEOGOLJFgPEcMweVFj5QTrt4Vb4g/132" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">greg</span>
                            </div>
                            <div class="bd">å¼ è€å¸ˆï¼Œ https:&#47;&#47;mp.weixin.qq.com&#47;s&#47;6Q818XA5FaHd7jJMFBG60w? è¿™ç¯‡æ–‡ç« ä¸­å†™åˆ°çš„ æ”¹å˜é€šä¿¡æ–¹å¼ éƒ¨åˆ†ï¼Œæ³¨å†Œæ¥å£å’Œè®¿é—®æ¥å£æ˜¯æ€æ ·çš„ä¸€ä¸ªå®ç°ï¼Ÿ  æ²¡æœ‰çœ‹æ‡‚ã€‚ <br></div>
                            <span class="time">2019-01-04 10:03</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKE7KHyLv1Zian5yzyby3ricSClVp0wwia8evbicGPH9icSAVYHhREVO39CtcHc77x05XONNK61JXoNXfg/132" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">iniesta2014</span>
                            </div>
                            <div class="bd"> ä½¿ç”¨æ­¤æ’ä»¶é›†æˆåˆ°é¡¹ç›®é‡Œé¢ï¼Œç„¶åæ‰“å¼€ç”Ÿæˆçš„trace.html ï¼ŒæŠ¥äº†â€œUnable to select a master clock domain because no path can be found from &quot;SYSTRACE&quot; to &quot;LINUX_FTRACE_GLOBAL&quot;. å…³é—­æ’ä»¶å¯ä»¥æ­£å¸¸æŸ¥çœ‹trace.html ã€‚å‰é¢ä¹Ÿæœ‰äººé‡åˆ°äº† <br></div>
                            <span class="time">2019-01-02 22:18</span>
                            
                            <div class="reply">
                                <div class="reply-hd"><span>ä½œè€…å›å¤</span></div>
                                <p class="reply-content">æ˜¯6.0ä»¥ä¸‹çš„æ‰‹æœºå—ï¼Ÿ<br><br>å¯ä»¥è¿™æ ·ä½¿ç”¨<br>cd &amp;ANDROID_HOME&#47;tools <br>.&#47;monitor<br><br>ç›´æ¥ä½¿ç”¨android monitoræ¥è¿›è¡Œsystrace<br></p>
                                <p class="reply-time">2019-01-03 10:02</p>
                            </div>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/14/5e/0a/cee81344.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">Moruna</span>
                            </div>
                            <div class="bd">å¼ è€å¸ˆï¼ŒSampleæ¶‰åŠçš„æ“ä½œéƒ½æ˜¯åœ¨linuxç³»ç»Ÿä¸‹æ‰§è¡Œçš„å—ï¼Ÿwindowsè·‘æœ‰é—®é¢˜<br>python $ANDROID_HOME&#47;platform-tools&#47;systrace&#47;systrace.py gfx view wm am pm ss dalvik app sched -b 90960 -a com.sample.systrace  -o test.log.html<br>æŠ¥é”™ <br></div>
                            <span class="time">2019-01-02 17:15</span>
                            
                            <div class="reply">
                                <div class="reply-hd"><span>ä½œè€…å›å¤</span></div>
                                <p class="reply-content">æ”¹ä¸€ä¸‹è·¯å¾„å°±å¯ä»¥ï¼Œæˆ–è€…ç›´æ¥ç”¨monitor</p>
                                <p class="reply-time">2019-01-02 18:27</p>
                            </div>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/14/82/6e/f552d036.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">å±±é¬¼</span>
                            </div>
                            <div class="bd">è€å¸ˆï¼Œç¤ºä¾‹çš„tranfromæ³¨å†Œæ–¹æ³•å’Œç›´æ¥è°ƒç”¨registerTransformæœ‰ä»€ä¹ˆåŒºåˆ«å—ï¼Ÿè¿™å—ä¸æ˜¯å¤ªæ‡‚ <br></div>
                            <span class="time">2018-12-28 11:53</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/14/48/34/40cb22a7.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">æ— çŸ¥</span>
                            </div>
                            <div class="bd">è™½ç„¶æ›´æ–°çš„å¾ˆæ…¢ï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯æ²¡æœ‰è·Ÿä¸ŠèŠ‚å¥ã€‚å‰å‡ ç¯‡éƒ½æ²¡æœ‰è·‘èµ·æ¥ï¼Œä»Šå¤©çš„æ‰çœŸæ­£çš„æŒ‰ç…§è€å¸ˆè¯´çš„åšäº†ä¸€æ¬¡ï¼ŒåŠ æ²¹ã€‚ <br></div>
                            <span class="time">2018-12-28 10:27</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/14/64/8f/4afeafd6.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">Kyleà¸ˆà¸¸à¹Šà¸š</span>
                            </div>
                            <div class="bd">è™½ç„¶ç”¨äº†ä»£ç†ï¼Œä½†æ˜¯æˆ‘åœ¨è¿è¡Œgradle task &quot;:systrace-gradle-plugin:buildAndPublishToLocalMaven&quot;æ—¶ä¹Ÿå‡ºç°è¿™ä¸ªé—®é¢˜<br>* What went wrong:<br>A problem occurred evaluating root project &#39;Chapter07&#39;.<br>&gt; Could not find method google() for arguments [] on repository container.<br><br>å°†google()åˆ æ‰ï¼Œä¼šæŠ¥Could not find com.android.tools.build:gradle:3.0.1.<br> <br></div>
                            <span class="time">2018-12-27 18:06</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="http://thirdwx.qlogo.cn/mmopen/vi_32/BicH0Lne3tjR0QwEIz0tsoZ6LgfHjtGbZFnP553XpfO9h7VvpGNrOBF1cOMwiccicM1uuLubLeruZsMvEialjpCtSQ/132" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">é¾™åœ¨å¤©æ¶¯</span>
                            </div>
                            <div class="bd">è¿è¡Œdemoç”Ÿæˆtraceï¼Œæ‰“å¼€test.log.htmlæŠ¥ä¸‹é¢çš„é”™æ˜¯ä»€ä¹ˆåŸå›  <br></div>
                            <span class="time">2018-12-24 16:31</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/14/4c/0d/0f7450e6.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">æˆ´å¯…å</span>
                            </div>
                            <div class="bd">å¼ è€å¸ˆæ‚¨å¥½ï¼Œåœ¨ç»ƒä¹ Sampleï¼Œæ“ä½œè¿è¡Œgradle task &quot;:systrace-gradle-plugin:buildAndPublishToLocalMaven&quot; ç¼–è¯‘pluginæ’ä»¶åï¼Œæç¤ºäº†Could not find method google() for arguments [] on repository container. æœ›æŒ‡ç‚¹è¿·æ´¥ï¼Œè°¢è°¢ <br></div>
                            <span class="time">2018-12-24 15:44</span>
                            
                            <div class="reply">
                                <div class="reply-hd"><span>ä½œè€…å›å¤</span></div>
                                <p class="reply-content">è¿™ä¸ªæ˜¯googleçš„mavenåº“ï¼Œè¿ä¸ªä»£ç†çœ‹çœ‹ï¼Ÿæˆ–è€…æŠŠbuild.gradleçš„google()åˆ æ‰ï¼Œæ¢æˆå…¶ä»–æ›¿ä»£çš„</p>
                                <p class="reply-time">2018-12-24 17:52</p>
                            </div>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/14/4e/9f/ece713ac.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">æœ±è“å¤©</span>
                            </div>
                            <div class="bd">æ²¡æœ‰é—ªå±é¡µé¢çš„APPæƒ…ä½•ä»¥å ªï¼Œè€æ¿è¿˜è¦æ±‚ç”¨æˆ·åœ¨æ²¡æœ‰é—ªå±è¿‡æ¸¡çš„æƒ…å†µä¸‹åšåˆ°æ— æ„ŸçŸ¥å¯åŠ¨ã€‚ã€‚ <br></div>
                            <span class="time">2018-12-22 01:26</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/10/5f/01/d3a1eb4d.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">äººç”Ÿå¦‚æ­Œ</span>
                            </div>
                            <div class="bd">ä½ å¥½ï¼Œä¸‹é¢çš„è¯´æ³•:åœ¨å¯åŠ¨è¿‡ç¨‹ä¹Ÿä¸è¦è¿‡æ—©åœ°æ‹‰èµ·åº”ç”¨çš„å…¶ä»–è¿›ç¨‹ï¼ŒSystem Server å’Œæ–°çš„è¿›ç¨‹éƒ½ä¼šç«äº‰ CPU èµ„æºã€‚æœ‰ç‚¹ç–‘æƒ‘<br>æŒ‰é“ç†å¼€æœºå¯åŠ¨æ‹‰èµ·æ–°è¿›ç¨‹æ˜¯ç›‘å¬å¼€æœºå¹¿æ’­åæ‹‰èµ·çš„ï¼Œè€ŒSystemServerä¸­çš„serviceå¯åŠ¨å®Œäº†ä¹‹åæ‰ä¼šå‘é€å¼€æœºå¹¿æ’­ï¼›å½“ç„¶ï¼Œå¦‚æœæ˜¯å› ä¸ºç›‘å¬å¼€æœºå¹¿æ’­çš„è¿›ç¨‹å¤ªå¤šï¼Œå¯¼è‡´è¿‡å¤šçš„è¯·æ±‚SystemServerä¸­çš„AMSï¼Œä¹Ÿä¼šå¯¼è‡´æ–°è¿›ç¨‹ä¸System Serverç«äº‰cpuèµ„æº<br>å¦å¤–ï¼Œå†è¯·æ•™ä¸€ä¸ªé—®é¢˜ï¼Œåƒå¾®ä¿¡è¿™ç§å›½æ°‘çº§åº”ç”¨ï¼Œç³»ç»Ÿå¾ˆéš¾æ€æ­»ï¼Œå› ä¸ºå‡ ä¹çœ‹ä¸åˆ°å¾®ä¿¡å¯åŠ¨çš„è¿‡ç¨‹ï¼Œä¸€æ‰“å¼€å°±å‡ºç°äº†èŠå¤©ç•Œé¢ï¼Œæ˜¯ä¸æ˜¯å„å¤§å‚å•†éƒ½æœ‰å¯¹ä»–è¿›è¡Œç‰¹æ®Šä¿æ´»ï¼Œè¿˜æ˜¯å› ä¸ºè®¾ç½®äº†æ›´ä½çš„adjå€¼å¯¼è‡´ç³»ç»Ÿä¸æ€å‘¢ï¼Ÿè°¢è°¢ <br></div>
                            <span class="time">2018-12-21 09:01</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/12/ed/17/c3eb014f.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">IOT..Yang</span>
                            </div>
                            <div class="bd">è¿è¡Œsampleæ—¶ï¼Œä¼šä¸€ç›´ç™½å±å¡ä½äº†ï¼Œçœ‹commentä¸­æœ‰äººè¯´éœ€è¦æŠŠTraceTagä¹Ÿé…ç½®åˆ°blackMethodListé‡Œï¼ˆä¸ºä»€ä¹ˆè¿™æ ·åšï¼Ÿï¼‰ï¼Œçš„ç¡®å¦‚æ­¤ï¼Œé…ç½®ä¸€ä¸‹å°±OKäº†ï¼ŒæˆåŠŸç”Ÿæˆäº†trace.htmlæ–‡ä»¶ï¼Œä½†ç›®å‰å¯¹è¿™ä¸ªä¸å¤ªç†Ÿæ‚‰ï¼Œé‡Œé¢çœ‹å¾—æœ‰ç‚¹æ‡µï¼Œä»Šå¤©å­¦ä¹ äº†å¥½é•¿æ—¶é—´ï¼Œå¤§æ¦‚äº†è§£äº†äº›åŸºç¡€ï¼Œæˆ‘æƒ³é—®ä¸‹å¼ å“¥systrace-gradle-pluginæ’ä»¶åº“æœ‰ä»€ä¹ˆä½œç”¨ï¼Œæˆ‘çœ‹å®˜ç½‘ä¸»è¦ä»‹ç»systraceå’ŒTraceçš„ä½¿ç”¨ã€‚<br><br>æ­£å¥½æœ€è¿‘è¦ä¼˜åŒ–appå¯åŠ¨æ—¶é—´ï¼Œçº¸ä¸Šå¾—æ¥æ€»è§‰æµ…ï¼Œç»çŸ¥æ­¤äº‹è¦èº¬è¡Œï¼Œfightingï¼ <br></div>
                            <span class="time">2018-12-20 16:48</span>
                            
                            <div class="reply">
                                <div class="reply-hd"><span>ä½œè€…å›å¤</span></div>
                                <p class="reply-content">å¯ä»¥æ›´æ–°ä¸€ä¸‹sampleè§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œå¦‚æœä¸åŠ å…¥ç™½åå•ä¼šå¯¼è‡´æ­»å¾ªç¯äº†ï¼Œå› ä¸ºåœ¨æ’æ¡©çš„ç±»é‡Œé¢åˆæ’äº†å‡½æ•°ã€‚<br><br>é‚£ä¸ªpluginæ˜¯ç”¨asmæ¥æ’æ¡©çš„</p>
                                <p class="reply-time">2018-12-20 20:28</p>
                            </div>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">kchang244</span>
                            </div>
                            <div class="bd">è¯·é—®ç½‘ç»œåŠ è½½æ–¹é¢çš„ä¼˜åŒ–åé¢ä¼šè®²å—ï¼Ÿè°¢è°¢ <br></div>
                            <span class="time">2018-12-20 16:07</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/12/d4/8d/a3fd8957.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">Kenny</span>
                            </div>
                            <div class="bd">å¼ è€å¸ˆï¼Œä½ å¥½ï¼Œæˆ‘ä»¬åœ¨åšäº†å¯åŠ¨ä¼˜åŒ–è·Ÿå¼ è€å¸ˆæ‰€è¯´90%ç›¸åŒï¼Œç›®å‰æƒ…å†µæ¥çœ‹ä¹Ÿå–å¾—äº†50%<br>ä»¥ä¸Šçš„å¯åŠ¨é€Ÿåº¦æå‡ï¼Œä½†æ˜¯æˆ‘ä»¬æƒ³åšæ›´åŠ æè‡´ï¼Œç°åœ¨å‘ç°æœ‰äº›æ‰‹æœºæœ‰jitçº¿ç¨‹ï¼Œè¿™ä¸ªåœ¨å¯åŠ¨è¿‡ç¨‹ä¸­å äº†å¤§é‡çš„cpuæ—¶é—´ç‰‡ï¼Œæˆ‘ä¹Ÿç¿»çœ‹äº†æºç ï¼Œå‘ç°è¿™ä¸ªçº¿ç¨‹æ˜¯åœ¨activitythreadé‡Œé¢åˆå§‹åŒ–çš„ï¼Œæ˜¯ä¸€ä¸ªjvmçº¿ç¨‹ï¼Œè¯·é—®å¼ è€å¸ˆï¼Œè¿™ä¸ªæœ‰æ–¹æ¡ˆå…³é—­å—ï¼Ÿ <br></div>
                            <span class="time">2018-12-20 12:37</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/11/35/87/b2a1e5cc.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">catkin</span>
                            </div>
                            <div class="bd">ç»ˆäºçœ‹åˆ°ç¨å¾®ç®€å•çš„äº†ï¼Œå‰é¢ç†è§£çœŸçš„å¾ˆéš¾ï¼Œçœ‹breakpadæºç ï¼Œå’Œinline hookçœŸçš„éš¾æ­»äº†ï¼Œæ‰æ˜ç™½ä¸€ç‚¹ç‚¹ï¼Œè¿˜å¾—ç»§ç»­åŠªåŠ›å•Šï¼åˆ°javaè¿™å—è¿˜æ˜¯å¾ˆç®€å•äº†ï¼Œè‡ªä¿¡åˆå›æ¥äº†ï¼é‚£ä¹ˆå¤šhookæŠ€æœ¯å•¥æ—¶å€™è®²è®²å‘—ï¼ <br></div>
                            <span class="time">2018-12-20 10:52</span>
                            
                            <div class="reply">
                                <div class="reply-hd"><span>ä½œè€…å›å¤</span></div>
                                <p class="reply-content">è¿™å—å†…å®¹ç¡®å®å¤æ‚ä¸€äº›ï¼Œèµ„æ–™ä¹Ÿå°‘ï¼Œä¸è¿‡æºç æ˜¯æœ€å¥½çš„æ–‡æ¡£</p>
                                <p class="reply-time">2018-12-21 13:05</p>
                            </div>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/14/49/8b/844e70df.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">çƒ­å¿ƒç½‘å‹</span>
                            </div>
                            <div class="bd">å¼ è€å¸ˆï¼ŒSimpleå¯åŠ¨å°±StackOverflowErroräº†ï¼Œæ˜¯ä¸æ˜¯éœ€è¦æŠŠTraceTagä¹Ÿé…ç½®åˆ°blackMethodListé‡Œ <br></div>
                            <span class="time">2018-12-20 10:25</span>
                            
                            <div class="reply">
                                <div class="reply-hd"><span>ä½œè€…å›å¤</span></div>
                                <p class="reply-content">å¯¹ï¼Œæˆ‘ä¿®æ”¹ä¸€ä¸‹ï¼Œæ”¹äº†ä¸€ä¸‹åŒ…åå¿˜äº†æ›´æ–°äº†</p>
                                <p class="reply-time">2018-12-20 11:56</p>
                            </div>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/14/49/98/9e23d25f.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">Carlitosä¸¶èƒ–èƒ–</span>
                            </div>
                            <div class="bd">å­¦ä¹ äº† <br></div>
                            <span class="time">2018-12-20 09:18</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/10/f1/91/4bbc7f73.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">ä»å‰æœ‰åªğŸ»</span>
                            </div>
                            <div class="bd">æ–‡ç« æ¯ä¸€å¥è¯å¯èƒ½å°±åŒ…å«ä¸€ä¸ªæ–°çš„çŸ¥è¯†ç‚¹ï¼Œç¡®å®éœ€è¦è¯¾åè¡¥å……è‡ªå­¦çš„ç‚¹è¿˜æ˜¯å¾ˆå¤šçš„ï¼ŒåŠ æ²¹å§ <br></div>
                            <span class="time">2018-12-20 08:58</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/0f/7b/0e/6d4109ee.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">é‡‘æ¨½æ˜æœˆ</span>
                            </div>
                            <div class="bd">ä½ å¥½ï¼Œèƒ½è®²ä¸€ä¸‹ React Native åº”ç”¨çš„å…·ä½“ä¼˜åŒ–å—ï¼Ÿç”±äºå¯åŠ¨æ—¶è¦å¯åŠ¨å¾ˆå¤šRNçš„ä¸œè¥¿ï¼Œæ‰€ä»¥æ¯”ä¸€èˆ¬çš„å®‰å“åº”ç”¨æ…¢äº†å¥½å¤šâ€¦â€¦æœ€è¿‘ä¸€ç›´åœ¨æ„ <br></div>
                            <span class="time">2018-12-20 08:53</span>
                            
                            <div class="reply">
                                <div class="reply-hd"><span>ä½œè€…å›å¤</span></div>
                                <p class="reply-content">å…¶å®éƒ½ä¸€æ ·ï¼Œå…³é”®æ˜¯ææ‡‚éš¾åœ¨å“ªé‡Œï¼Œç„¶åæŒ‡å®šç­–ç•¥ï¼Œç±»ä¼¼é¢„åŠ è½½ï¼Œå¢åŠ å¹¶å‘ã€‚<br><br>æˆ‘ä»¬æœ‰ç±»ä¼¼çš„æ¡†æ¶ï¼Œä½†æ˜¯æˆ‘ä»¬åšçš„æ¯”è¾ƒåº•å±‚æ˜¯ç›´æ¥ä¿®æ”¹å†…éƒ¨çš„ä¸€äº›ä»£ç </p>
                                <p class="reply-time">2018-12-20 09:36</p>
                            </div>
                            
                        </div>
                    </li>
                    


                </ul>
            </div>
        </div>
    </div>
</div>
</body>
</html>